# 🗄️ MongoDB 可视化工具

<div align="center">

# 🗄️ MongoDB 可视化工具

**一个现代化的 MongoDB 数据库可视化和管理工具**

🚀 **高效** • 🎨 **美观** • 🔧 **易用** • 🔒 **安全**

[![React](https://img.shields.io/badge/React-18-61DAFB?style=for-the-badge&logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-3178C6?style=for-the-badge&logo=typescript)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-20-339933?style=for-the-badge&logo=node.js)](https://nodejs.org/)
[![MongoDB](https://img.shields.io/badge/MongoDB-7-47A248?style=for-the-badge&logo=mongodb)](https://www.mongodb.com/)
[![Docker](https://img.shields.io/badge/Docker-Ready-2496ED?style=for-the-badge&logo=docker)](https://www.docker.com/)

</div>

---

## 🌟 项目概述

提供直观的界面来浏览、查询和管理 MongoDB 数据库，支持实时数据可视化、代码生成和多连接管理。

## 🏗️ 系统架构

![系统架构图](docs/images/architecture.svg)

*现代化的三层架构设计，确保系统的可扩展性和维护性*

## 🖥️ 界面特色

<div align="center">

| 🎨 **界面设计** | 🌓 **主题支持** | 📱 **响应式** | 🚀 **性能优化** |
|:---:|:---:|:---:|:---:|
| 现代化 Material Design | 深色/浅色主题切换 | 移动端适配 | 虚拟滚动优化 |
| 直观的操作界面 | 护眼模式支持 | 平板端优化 | 懒加载技术 |
| 丰富的图标系统 | 自定义主题色 | 桌面端完美体验 | 内存优化 |

*🎯 为开发者量身定制的现代化界面体验*

</div>

## ✨ 核心功能

![功能概览](docs/images/features.svg)

*丰富的功能模块，满足各种数据管理需求*

<div align="center">

### 🎯 功能模块总览

| 🔗 **连接管理** | 📊 **数据浏览** | ✏️ **数据编辑** |
|:---:|:---:|:---:|
| 多数据库连接 | 树形结构展示 | 可视化编辑器 |
| 安全认证支持 | 文档预览查看 | JSON 格式验证 |
| 连接状态监控 | 智能搜索过滤 | 批量操作支持 |
| 配置安全存储 | 统计信息展示 | 自动保存功能 |

| 🔍 **查询功能** | 📈 **数据可视化** | 💻 **代码生成** |
|:---:|:---:|:---:|
| 原生查询语法 | 多种图表类型 | Golang 结构体 |
| 查询历史管理 | 自定义视图配置 | 智能标签支持 |
| 聚合管道查询 | 实时数据更新 | 查询代码生成 |
| 结果导出功能 | 视图配置保存 | 类型智能映射 |

</div>

### 🔗 连接管理
| 功能 | 描述 | 状态 |
|------|------|------|
| 🌐 **多数据库连接** | 支持同时管理多个 MongoDB 连接 | ✅ 完成 |
| 🔐 **安全认证** | 支持用户名/密码、SSL 连接 | ✅ 完成 |
| 📊 **连接监控** | 实时监控连接状态和性能 | ✅ 完成 |
| 💾 **配置保存** | 安全存储连接配置信息 | ✅ 完成 |

### 📊 数据浏览
| 功能 | 描述 | 状态 |
|------|------|------|
| 🌳 **树形结构** | 数据库和集合的层级展示 | ✅ 完成 |
| 📄 **文档预览** | 支持 JSON 格式的文档查看 | ✅ 完成 |
| 🔍 **智能搜索** | 快速定位数据库、集合和文档 | ✅ 完成 |
| 📈 **统计信息** | 显示集合大小、文档数量等 | ✅ 完成 |

### ✏️ 数据编辑
| 功能 | 描述 | 状态 |
|------|------|------|
| 📝 **可视化编辑** | 直观的文档编辑界面 | ✅ 完成 |
| ✅ **JSON 验证** | 实时 JSON 格式验证 | ✅ 完成 |
| 🔄 **批量操作** | 支持批量增删改操作 | ✅ 完成 |
| 💾 **自动保存** | 防止数据丢失的自动保存 | ✅ 完成 |

### 🔍 查询功能
| 功能 | 描述 | 状态 |
|------|------|------|
| 💻 **查询编辑器** | 支持 MongoDB 原生查询语法 | ✅ 完成 |
| 📚 **查询历史** | 保存和管理查询历史记录 | ✅ 完成 |
| 🎯 **聚合查询** | 支持复杂的聚合管道查询 | ✅ 完成 |
| 📤 **结果导出** | 支持 JSON、CSV 等格式导出 | ✅ 完成 |

### 📈 数据可视化
| 功能 | 描述 | 状态 |
|------|------|------|
| 📊 **图表展示** | 柱状图、饼图、折线图等 | ✅ 完成 |
| 🎨 **自定义视图** | 可配置的数据展示方式 | ✅ 完成 |
| 🔄 **实时更新** | 数据变化时自动更新图表 | ✅ 完成 |
| 💾 **视图保存** | 保存自定义的可视化配置 | ✅ 完成 |

### 💻 代码生成
| 功能 | 描述 | 状态 |
|------|------|------|
| 🏗️ **Golang 结构体** | 自动生成 Go 语言结构体 | ✅ 完成 |
| 🏷️ **标签支持** | 支持 `json` 和 `bson` 标签 | ✅ 完成 |
| 🔄 **查询代码** | 生成对应的查询代码 | ✅ 完成 |
| 🎯 **类型映射** | 智能的 MongoDB 到 Go 类型映射 | ✅ 完成 |

## 🔄 用户工作流程

![工作流程图](docs/images/workflow.svg)

*直观的操作流程，简化用户体验*

### 📋 完整操作流程

<div align="center">

```
🚀 开始使用
     ↓
🔗 连接配置 → 📝 填写数据库信息 → 🔍 测试连接 → ✅ 保存配置
     ↓
🗄️ 数据浏览 → 🌳 选择数据库 → 📁 选择集合 → 📄 查看文档
     ↓
🔍 数据查询 → 💻 编写查询语句 → ▶️ 执行查询 → 📊 查看结果
     ↓
✏️ 数据编辑 → 📝 修改文档 → ✅ 验证格式 → 💾 保存更改
     ↓
📈 数据可视化 → 🎨 选择图表类型 → 🔧 配置参数 → 📊 生成图表
     ↓
🏗️ 代码生成 → 🎯 选择语言 → 🏷️ 配置标签 → 📋 复制代码
     ↓
🎉 完成任务
```

</div>

### 🎯 详细步骤说明

<div align="center">

| 步骤 | 操作 | 描述 | 预期结果 |
|------|------|------|----------|
| **1️⃣** | 🔗 **连接配置** | 输入 MongoDB 连接信息 | 建立数据库连接 |
| **2️⃣** | 🗄️ **数据浏览** | 浏览数据库和集合结构 | 了解数据组织方式 |
| **3️⃣** | 🔍 **数据查询** | 使用查询编辑器执行查询 | 获取所需数据 |
| **4️⃣** | ✏️ **数据编辑** | 可视化编辑文档内容 | 更新数据库数据 |
| **5️⃣** | 📈 **数据可视化** | 生成图表和统计信息 | 直观展示数据趋势 |
| **6️⃣** | 🏗️ **代码生成** | 自动生成结构体代码 | 提高开发效率 |

</div>

### 🔄 核心功能流程

#### 🔗 连接管理流程
```
📝 新建连接 → 🔍 测试连接 → ✅ 验证成功 → 💾 保存配置 → 🔗 建立连接
```

#### 🗄️ 数据浏览流程
```
🌳 展开数据库 → 📁 选择集合 → 📄 加载文档 → 🔍 搜索过滤 → 📊 查看详情
```

#### 💻 查询执行流程
```
✏️ 编写查询 → ✅ 语法检查 → ▶️ 执行查询 → 📊 显示结果 → 📤 导出数据
```

#### 📝 数据编辑流程
```
📄 选择文档 → ✏️ 编辑内容 → ✅ JSON验证 → 💾 保存更改 → 🔄 刷新显示
```

### 🏗️ 技术架构详情

![界面预览](docs/images/interface-mockup.svg)

*现代化的用户界面设计预览*

### 📐 整体架构设计

我们采用现代化的**三层架构**设计，确保系统的可扩展性和维护性：

<div align="center">

| 层级 | 技术栈 | 职责 |
|------|--------|------|
| 🎨 **前端展示层** | React 18 + TypeScript + Vite | 用户界面、交互逻辑、状态管理 |
| ⚙️ **后端服务层** | Node.js + Express + TypeScript | API 服务、业务逻辑、数据处理 |
| 💾 **数据存储层** | MongoDB + Redis | 数据持久化、缓存、性能优化 |

</div>

### 🔧 技术架构详情

#### 🎨 前端技术栈

<div align="center">

| 技术 | 版本 | 用途 | 特性 |
|------|------|------|------|
| ![React](https://img.shields.io/badge/React-18-61DAFB?style=flat-square&logo=react) | 18.x | UI 框架 | 并发特性、Hooks、函数组件 |
| ![TypeScript](https://img.shields.io/badge/TypeScript-5-3178C6?style=flat-square&logo=typescript) | 5.x | 类型安全 | 静态类型检查、智能提示 |
| ![Vite](https://img.shields.io/badge/Vite-5-646CFF?style=flat-square&logo=vite) | 5.x | 构建工具 | 快速热重载、ES 模块 |
| ![Tailwind](https://img.shields.io/badge/Tailwind-3-06B6D4?style=flat-square&logo=tailwindcss) | 3.x | CSS 框架 | 实用优先、响应式设计 |
| ![Zustand](https://img.shields.io/badge/Zustand-4-FF6B6B?style=flat-square) | 4.x | 状态管理 | 轻量级、TypeScript 友好 |

</div>

#### ⚙️ 后端技术栈

<div align="center">

| 技术 | 版本 | 用途 | 特性 |
|------|------|------|------|
| ![Node.js](https://img.shields.io/badge/Node.js-20-339933?style=flat-square&logo=node.js) | 20.x | 运行时 | 高性能、事件驱动 |
| ![Express](https://img.shields.io/badge/Express-4-000000?style=flat-square&logo=express) | 4.x | Web 框架 | 轻量级、中间件支持 |
| ![MongoDB](https://img.shields.io/badge/MongoDB-7-47A248?style=flat-square&logo=mongodb) | 7.x | 数据库驱动 | 原生驱动、连接池 |
| ![Socket.io](https://img.shields.io/badge/Socket.io-4-010101?style=flat-square&logo=socket.io) | 4.x | 实时通信 | WebSocket、事件驱动 |

</div>

#### 💾 数据库技术栈

<div align="center">

| 技术 | 版本 | 用途 | 特性 |
|------|------|------|------|
| ![MongoDB](https://img.shields.io/badge/MongoDB-7-47A248?style=flat-square&logo=mongodb) | 7.x | 主数据库 | 文档存储、分片集群 |
| ![Redis](https://img.shields.io/badge/Redis-7-DC382D?style=flat-square&logo=redis) | 7.x | 缓存数据库 | 内存存储、高性能 |
| ![Docker](https://img.shields.io/badge/Docker-Latest-2496ED?style=flat-square&logo=docker) | Latest | 容器化 | 环境一致性、快速部署 |

</div>

### 🔌 API 架构

#### RESTful API 设计

我们的后端 API 遵循 RESTful 设计原则：

<div align="center">

| 端点 | 方法 | 描述 | 认证 | 响应格式 |
|------|------|------|------|----------|
| `/api/connections` | `GET` | 📋 获取连接列表 | ✅ | JSON |
| `/api/connections` | `POST` | ➕ 创建新连接 | ✅ | JSON |
| `/api/connections/:id` | `PUT` | ✏️ 更新连接配置 | ✅ | JSON |
| `/api/connections/:id` | `DELETE` | 🗑️ 删除连接 | ✅ | JSON |
| `/api/connections/:id/test` | `POST` | 🔍 测试连接 | ✅ | JSON |
| `/api/query/:connectionId` | `POST` | 🔍 执行数据库查询 | ✅ | JSON |
| `/api/visualize/:connectionId` | `POST` | 📊 生成数据可视化 | ✅ | JSON |
| `/api/databases/:connectionId` | `GET` | 🗄️ 获取数据库列表 | ✅ | JSON |
| `/api/collections/:connectionId/:database` | `GET` | 📁 获取集合列表 | ✅ | JSON |

</div>

#### 统一响应格式

```json
{
  "success": true,
  "data": {
    // 响应数据
  },
  "message": "操作成功",
  "timestamp": "2024-01-20T10:30:00Z",
  "requestId": "req_123456789"
}
```

#### WebSocket 实时通信

<div align="center">

| 事件 | 方向 | 描述 | 数据格式 |
|------|------|------|----------|
| `connection:status` | 📤 Server → Client | 连接状态变化 | `{ connectionId, status }` |
| `data:update` | 📤 Server → Client | 数据实时更新 | `{ collection, document }` |
| `query:result` | 📤 Server → Client | 查询结果推送 | `{ queryId, results }` |
| `subscribe:collection` | 📥 Client → Server | 订阅集合变化 | `{ connectionId, collection }` |

</div>

## 🚀 快速开始

### 📋 环境要求

<div align="center">

| 环境 | 最低版本 | 推荐版本 | 说明 |
|------|----------|----------|------|
| ![Node.js](https://img.shields.io/badge/Node.js-18+-339933?style=flat-square&logo=node.js) | 18.0.0 | 20.x | JavaScript 运行时 |
| ![npm](https://img.shields.io/badge/npm-9+-CB3837?style=flat-square&logo=npm) | 9.0.0 | Latest | 包管理器 |
| ![MongoDB](https://img.shields.io/badge/MongoDB-5+-47A248?style=flat-square&logo=mongodb) | 5.0.0 | 7.x | 数据库服务 |
| ![Docker](https://img.shields.io/badge/Docker-20+-2496ED?style=flat-square&logo=docker) | 20.0.0 | Latest | 容器化（可选） |

</div>

### 🛠️ 安装步骤

#### 1️⃣ 克隆项目

```bash
git clone https://github.com/your-username/mongodb-visualization-tool.git
cd mongodb-visualization-tool
```

#### 2️⃣ 安装依赖

```bash
# 安装前端依赖
npm install

# 安装后端依赖
cd api
npm install
cd ..
```

#### 3️⃣ 环境配置

创建环境变量文件：

```bash
# 复制环境变量模板
cp .env.example .env
cp api/.env.example api/.env
```

编辑 `.env` 文件：

```env
# 前端配置
VITE_API_URL=http://localhost:3001
VITE_WS_URL=ws://localhost:3001

# 后端配置
PORT=3001
MONGODB_URI=mongodb://localhost:27017
REDIS_URL=redis://localhost:6379
JWT_SECRET=your-secret-key
```

#### 4️⃣ 启动服务

**方式一：本地开发**

```bash
# 启动后端服务
npm run server:dev

# 启动前端服务（新终端）
npm run dev
```

**方式二：Docker 部署**

```bash
# 构建并启动所有服务
docker-compose up -d --build

# 查看服务状态
docker-compose ps
```

#### 5️⃣ 访问应用

<div align="center">

| 服务 | 地址 | 说明 |
|------|------|------|
| 🌐 **前端应用** | http://localhost:5173 | 主要用户界面 |
| 🔌 **后端 API** | http://localhost:3001 | RESTful API 服务 |
| 📊 **API 文档** | http://localhost:3001/docs | Swagger API 文档 |
| 🗄️ **MongoDB** | mongodb://localhost:27017 | 数据库连接 |

</div>

## 📖 使用指南

### 🔗 连接数据库

1. **打开连接管理页面**
   - 点击左侧导航栏的 "连接" 选项
   - 或使用快捷键 `Ctrl + N`

2. **填写连接信息**
   ```
   连接名称: 我的MongoDB
   主机地址: localhost
   端口号: 27017
   数据库名: myapp
   用户名: admin
   密码: ********
   ```

3. **测试连接**
   - 点击 "测试连接" 按钮
   - 确认连接状态为 ✅ 成功

4. **保存连接**
   - 点击 "保存" 按钮
   - 连接将出现在左侧连接列表中

### 📊 浏览数据

1. **选择数据库**
   - 在连接列表中点击已连接的数据库
   - 展开数据库节点查看集合列表

2. **查看集合**
   - 点击集合名称查看文档列表
   - 使用分页控件浏览大量数据

3. **查看文档详情**
   - 点击文档行查看完整内容
   - 支持 JSON 格式的语法高亮

### ✏️ 编辑数据

1. **编辑文档**
   - 双击文档进入编辑模式
   - 在 JSON 编辑器中修改内容
   - 实时验证 JSON 格式

2. **新建文档**
   - 点击 "新建文档" 按钮
   - 在编辑器中输入 JSON 内容
   - 点击 "保存" 创建文档

3. **删除文档**
   - 选择要删除的文档
   - 点击删除按钮确认操作

### 🔍 执行查询

1. **打开查询编辑器**
   - 点击 "查询" 选项卡
   - 或使用快捷键 `Ctrl + Q`

2. **编写查询语句**
   ```javascript
   // 查找所有用户
   db.users.find({})
   
   // 条件查询
   db.users.find({ age: { $gte: 18 } })
   
   // 聚合查询
   db.orders.aggregate([
     { $group: { _id: "$status", count: { $sum: 1 } } }
   ])
   ```

3. **执行查询**
   - 点击 "运行" 按钮或使用 `Ctrl + Enter`
   - 查看结果在下方面板中显示

4. **保存查询**
   - 点击 "保存查询" 按钮
   - 输入查询名称和描述
   - 查询将保存到历史记录中

### 📈 数据可视化

1. **选择数据源**
   - 执行查询获取数据
   - 或选择现有的查询结果

2. **选择图表类型**
   - 📊 柱状图：适合分类数据对比
   - 🥧 饼图：适合比例数据展示
   - 📈 折线图：适合趋势数据分析
   - 📉 面积图：适合累积数据展示

3. **配置图表**
   - 设置 X 轴和 Y 轴字段
   - 选择聚合方式（计数、求和、平均值等）
   - 自定义颜色和样式

4. **保存视图**
   - 点击 "保存视图" 按钮
   - 输入视图名称和描述
   - 视图将保存到仪表板中

### 💻 代码生成

1. **选择集合**
   - 在数据浏览器中选择目标集合
   - 确保集合中有示例数据

2. **生成结构体**
   - 点击 "生成代码" 按钮
   - 选择 "Golang 结构体" 选项

3. **配置选项**
   ```
   包名: models
   结构体名: User
   标签类型: json, bson
   字段命名: CamelCase
   ```

4. **复制代码**
   - 生成的代码将显示在代码面板中
   - 点击 "复制" 按钮复制到剪贴板
   - 或点击 "下载" 保存为文件

## 🔧 配置说明

### 🌐 前端配置

**Vite 配置** (`vite.config.ts`):

```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import path from 'path'

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  server: {
    port: 5173,
    proxy: {
      '/api': {
        target: 'http://localhost:3001',
        changeOrigin: true,
      },
    },
  },
})
```

**TypeScript 配置** (`tsconfig.json`):

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}
```

### ⚙️ 后端配置

**Express 应用配置** (`api/src/app.ts`):

```typescript
import express from 'express'
import cors from 'cors'
import helmet from 'helmet'
import compression from 'compression'
import rateLimit from 'express-rate-limit'

const app = express()

// 安全中间件
app.use(helmet())
app.use(cors({
  origin: process.env.FRONTEND_URL || 'http://localhost:5173',
  credentials: true
}))

// 性能中间件
app.use(compression())
app.use(express.json({ limit: '10mb' }))
app.use(express.urlencoded({ extended: true }))

// 限流中间件
const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 分钟
  max: 100 // 限制每个 IP 100 次请求
})
app.use('/api', limiter)

export default app
```

**MongoDB 连接配置** (`api/src/config/database.ts`):

```typescript
import { MongoClient, MongoClientOptions } from 'mongodb'

const options: MongoClientOptions = {
  maxPoolSize: 10,
  serverSelectionTimeoutMS: 5000,
  socketTimeoutMS: 45000,
  family: 4
}

export const createConnection = async (uri: string) => {
  const client = new MongoClient(uri, options)
  await client.connect()
  return client
}
```

### 🐳 Docker 配置

**Docker Compose** (`docker-compose.yml`):

```yaml
version: '3.8'

services:
  frontend:
    build:
      context: .
      dockerfile: Dockerfile.frontend
    ports:
      - "5173:5173"
    environment:
      - VITE_API_URL=http://localhost:3001
    depends_on:
      - backend

  backend:
    build:
      context: .
      dockerfile: Dockerfile.backend
    ports:
      - "3001:3001"
    environment:
      - MONGODB_URI=mongodb://mongodb:27017
      - REDIS_URL=redis://redis:6379
    depends_on:
      - mongodb
      - redis

  mongodb:
    image: mongo:7
    ports:
      - "27017:27017"
    environment:
      - MONGO_INITDB_ROOT_USERNAME=admin
      - MONGO_INITDB_ROOT_PASSWORD=password
    volumes:
      - mongodb_data:/data/db

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data

volumes:
  mongodb_data:
  redis_data:
```

## 🧪 测试

### 🔬 单元测试

**前端测试** (使用 Vitest + React Testing Library):

```bash
# 运行前端测试
npm run test

# 运行测试覆盖率
npm run test:coverage

# 监听模式
npm run test:watch
```

**后端测试** (使用 Jest + Supertest):

```bash
# 运行后端测试
cd api
npm run test

# 运行集成测试
npm run test:integration

# 运行 E2E 测试
npm run test:e2e
```

### 📊 测试覆盖率

<div align="center">

| 模块 | 覆盖率 | 状态 |
|------|--------|------|
| 🎨 前端组件 | 85% | ✅ 良好 |
| 🔌 API 路由 | 92% | ✅ 优秀 |
| 💾 数据库操作 | 88% | ✅ 良好 |
| 🔧 工具函数 | 95% | ✅ 优秀 |

</div>

## 🚀 部署

### 🌐 生产环境部署

#### Vercel 部署（前端）

1. **连接 GitHub 仓库**
   - 登录 [Vercel](https://vercel.com)
   - 导入 GitHub 项目

2. **配置构建设置**
   ```
   Framework Preset: Vite
   Build Command: npm run build
   Output Directory: dist
   Install Command: npm install
   ```

3. **设置环境变量**
   ```
   VITE_API_URL=https://your-api-domain.com
   VITE_WS_URL=wss://your-api-domain.com
   ```

#### Railway 部署（后端）

1. **连接 GitHub 仓库**
   - 登录 [Railway](https://railway.app)
   - 创建新项目并连接仓库

2. **配置服务**
   ```
   Root Directory: api
   Build Command: npm run build
   Start Command: npm start
   ```

3. **设置环境变量**
   ```
   NODE_ENV=production
   PORT=3001
   MONGODB_URI=mongodb+srv://...
   REDIS_URL=redis://...
   JWT_SECRET=your-production-secret
   ```

#### MongoDB Atlas（数据库）

1. **创建集群**
   - 登录 [MongoDB Atlas](https://cloud.mongodb.com)
   - 创建新的集群

2. **配置网络访问**
   - 添加 IP 白名单
   - 创建数据库用户

3. **获取连接字符串**
   ```
   mongodb+srv://username:password@cluster.mongodb.net/database
   ```

### 🐳 Docker 生产部署

**生产环境 Docker Compose** (`docker-compose.prod.yml`):

```yaml
version: '3.8'

services:
  frontend:
    build:
      context: .
      dockerfile: Dockerfile.frontend
      target: production
    restart: unless-stopped
    environment:
      - NODE_ENV=production

  backend:
    build:
      context: .
      dockerfile: Dockerfile.backend
      target: production
    restart: unless-stopped
    environment:
      - NODE_ENV=production
      - MONGODB_URI=${MONGODB_URI}
      - REDIS_URL=${REDIS_URL}

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - frontend
      - backend
    restart: unless-stopped
```

**部署命令**:

```bash
# 构建生产镜像
docker-compose -f docker-compose.prod.yml build

# 启动生产服务
docker-compose -f docker-compose.prod.yml up -d

# 查看服务状态
docker-compose -f docker-compose.prod.yml ps
```

## 🤝 贡献指南

我们欢迎所有形式的贡献！请阅读以下指南：

### 📝 提交代码

1. **Fork 项目**
   ```bash
   git clone https://github.com/your-username/mongodb-visualization-tool.git
   cd mongodb-visualization-tool
   ```

2. **创建功能分支**
   ```bash
   git checkout -b feature/amazing-feature
   ```

3. **提交更改**
   ```bash
   git add .
   git commit -m "feat: add amazing feature"
   ```

4. **推送分支**
   ```bash
   git push origin feature/amazing-feature
   ```

5. **创建 Pull Request**
   - 在 GitHub 上创建 PR
   - 填写详细的描述
   - 等待代码审查

### 📋 提交规范

我们使用 [Conventional Commits](https://www.conventionalcommits.org/) 规范：

```
type(scope): description

[optional body]

[optional footer]
```

**类型说明**:
- `feat`: 新功能
- `fix`: 修复 bug
- `docs`: 文档更新
- `style`: 代码格式化
- `refactor`: 代码重构
- `test`: 测试相关
- `chore`: 构建过程或辅助工具的变动

**示例**:
```
feat(query): add aggregation pipeline support

fix(connection): resolve timeout issue with large datasets

docs(readme): update installation instructions
```

### 🐛 报告问题

在提交 Issue 时，请包含以下信息：

- **环境信息**: 操作系统、Node.js 版本、浏览器版本
- **重现步骤**: 详细的操作步骤
- **期望行为**: 你期望发生什么
- **实际行为**: 实际发生了什么
- **截图**: 如果适用，请提供截图
- **错误日志**: 相关的错误信息

### 💡 功能请求

在提交功能请求时，请说明：

- **功能描述**: 详细描述所需功能
- **使用场景**: 什么情况下会用到这个功能
- **解决方案**: 你认为应该如何实现
- **替代方案**: 是否有其他解决方案

## 📄 许可证

本项目采用 [MIT 许可证](LICENSE)。

```
MIT License

Copyright (c) 2024 MongoDB Visualization Tool

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHOR OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

## 🙏 致谢

感谢以下开源项目和贡献者：

<div align="center">

| 项目 | 描述 | 许可证 |
|------|------|--------|
| [React](https://reactjs.org/) | 用户界面库 | MIT |
| [TypeScript](https://www.typescriptlang.org/) | 类型安全的 JavaScript | Apache-2.0 |
| [Node.js](https://nodejs.org/) | JavaScript 运行时 | MIT |
| [MongoDB](https://www.mongodb.com/) | 文档数据库 | SSPL |
| [Express.js](https://expressjs.com/) | Web 应用框架 | MIT |
| [Vite](https://vitejs.dev/) | 构建工具 | MIT |
| [Tailwind CSS](https://tailwindcss.com/) | CSS 框架 | MIT |
| [Recharts](https://recharts.org/) | 图表库 | MIT |

</div>

---

<div align="center">

**🌟 如果这个项目对你有帮助，请给我们一个 Star！**

[![GitHub stars](https://img.shields.io/github/stars/your-username/mongodb-visualization-tool?style=social)](https://github.com/your-username/mongodb-visualization-tool/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/your-username/mongodb-visualization-tool?style=social)](https://github.com/your-username/mongodb-visualization-tool/network/members)
[![GitHub issues](https://img.shields.io/github/issues/your-username/mongodb-visualization-tool)](https://github.com/your-username/mongodb-visualization-tool/issues)
[![GitHub license](https://img.shields.io/github/license/your-username/mongodb-visualization-tool)](https://github.com/your-username/mongodb-visualization-tool/blob/main/LICENSE)

**Made with ❤️ by the MongoDB Visualization Tool Team**

</div>
